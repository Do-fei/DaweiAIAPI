# 演示模式配置指南

## 概述

Dawei AI Platform 支持免登录演示模式，允许访问者直接进入后台，无需进行身份认证。这对于产品演示、客户展示等场景非常有用。

## 启用演示模式

### 方式 1：使用环境变量（推荐）

在项目根目录创建或编辑 `.env.local` 文件，添加以下配置：

```env
VITE_DEMO_MODE=true
```

然后重启开发服务器：

```bash
pnpm dev
```

### 方式 2：使用预配置的演示环境文件

项目已包含 `.env.demo` 文件，可直接使用：

```bash
# 使用演示环境启动开发服务器
VITE_DEMO_MODE=true pnpm dev
```

## 演示模式的行为

启用演示模式后，网站将表现如下：

### 前端行为

1. **自动登录**：访问网站时自动使用演示用户身份登录，无需点击登录按钮
2. **隐藏登出按钮**：用户菜单中不显示登出选项，防止访客意外登出
3. **演示模式标志**：在每个页面顶部显示"🎬 演示模式"提示，告知用户这是示例数据
4. **跳过认证检查**：所有页面都可直接访问，无需身份验证

### 演示用户信息

演示模式使用以下默认用户身份：

```
用户名：大韦
邮箱：demo@dawei-ai.com
角色：user
```

## 演示数据

演示模式使用数据库中的演示数据，包括：

- **6 个 AI 模型**：豆包、Gemini、GPT-4、Claude 等
- **3 个 API Key**：生产环境、测试环境、备用 Key
- **3 个对话历史**：包含完整的技术讨论和使用示例
- **8 条交易记录**：模拟真实的消费场景
- **用户账户**：初始余额 ¥500，已消费 ¥49.95

## 重新生成演示数据

如果需要重新填充演示数据，运行以下命令：

```bash
cd /home/ubuntu/tuzi-ai-platform
node seed-demo-data.mjs
```

## 禁用演示模式

### 方式 1：删除环境变量

从 `.env.local` 中删除或注释掉 `VITE_DEMO_MODE=true`：

```env
# VITE_DEMO_MODE=true
```

### 方式 2：设置为 false

```env
VITE_DEMO_MODE=false
```

然后重启开发服务器，网站将恢复正常的登录流程。

## 生产环境部署

### 启用演示模式部署

如果要在生产环境中启用演示模式，在部署时设置环境变量：

```bash
# 部署时设置
VITE_DEMO_MODE=true pnpm build
```

### 禁用演示模式部署

默认情况下，生产环境应禁用演示模式以确保安全性：

```bash
# 正常部署（演示模式禁用）
pnpm build
```

## 常见问题

### Q: 演示模式会影响真实数据吗？

A: 不会。演示模式只是改变了前端的认证行为，使用的仍然是真实的数据库数据。演示数据是通过 `seed-demo-data.mjs` 脚本预先填充到数据库中的。

### Q: 如何在演示模式和正常模式之间切换？

A: 修改 `VITE_DEMO_MODE` 环境变量，然后重启开发服务器即可。

### Q: 演示用户可以修改数据吗？

A: 可以。演示用户拥有完整的用户权限，可以创建 API Key、发送消息等。所有修改都会保存到数据库。

### Q: 如何重置演示数据？

A: 运行 `node seed-demo-data.mjs` 脚本重新填充演示数据。

## 配置文件位置

- 演示模式配置：`client/src/config/demo.ts`
- 演示数据脚本：`seed-demo-data.mjs`
- 环境变量文件：`.env.demo`、`.env.local`
